<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Teste Campo Nome - Royal Broker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css"/>
</head>
<body class="login-body">
  <main class="login-center">
    <div class="login-card cascade login-compact hover-expand">
      <h2 class="rb-login-title rb-gold-strong">ðŸ§ª TESTE CAMPO NOME COMPLETO</h2>
      
      <div style="margin-bottom: 20px;">
        <h3>âœ… Campo Nome Corrigido</h3>
        <p>O campo agora aceita apenas letras, espaÃ§os e acentos:</p>
        
        <div style="background: #39d9820; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #39d98a;">
          <h4>âœ… O que Ã© permitido:</h4>
          <ul style="color: #39d98a; margin: 10px 0;">
            <li>Letras maiÃºsculas e minÃºsculas (A-Z, a-z)</li>
            <li>EspaÃ§os entre nomes</li>
            <li>Acentos (Ã¡, Ã©, Ã£, Ã§, etc.)</li>
            <li>Nomes compostos</li>
          </ul>
        </div>
        
        <div style="background: #ff6b6b20; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #ff6b6b;">
          <h4>ðŸš« O que Ã© bloqueado:</h4>
          <ul style="color: #ff6b6b; margin: 10px 0;">
            <li>NÃºmeros (0-9)</li>
            <li>Caracteres especiais (!@#$%^&*)</li>
            <li>SÃ­mbolos matemÃ¡ticos (+-*/=)</li>
            <li>PontuaÃ§Ã£o (.,;:?)</li>
          </ul>
        </div>
      </div>
      
      <div style="margin-bottom: 20px;">
        <h3>ðŸ”§ Teste do Campo:</h3>
        <label>Nome Completo
          <input type="text" id="testeNome" class="rb-input input-royal-focus" placeholder="Digite seu nome completo" 
                 onkeypress="bloquearNumeros(event)" onpaste="validarColagem(event)" ondrop="validarColagem(event)">
          <small class="hint" id="nomeHint"></small>
        </label>
        
        <div style="margin-top: 10px;">
          <h4>ðŸ§ª Testes para fazer:</h4>
          <ol style="color: #e0e0e0; margin: 10px 0;">
            <li>Tente digitar nÃºmeros (devem ser bloqueados)</li>
            <li>Tente digitar caracteres especiais (devem ser bloqueados)</li>
            <li>Digite um nome vÃ¡lido como "JoÃ£o Silva"</li>
            <li>Tente colar texto com nÃºmeros (devem ser removidos)</li>
          </ol>
        </div>
      </div>
      
      <div style="display: flex; gap: 10px; flex-wrap: wrap;">
        <button class="btn-royal" onclick="testarValidacao()">Testar ValidaÃ§Ã£o</button>
        <button class="btn-turq" onclick="window.location.href='cadastro.html'">Testar no Cadastro</button>
        <button class="btn-json" onclick="window.location.href='index.html'">Voltar Ã  Home</button>
      </div>
    </div>
  </main>
  
  <script>
    // FunÃ§Ã£o para bloquear nÃºmeros e caracteres especiais no campo nome
    function bloquearNumeros(event) {
      const charCode = event.which ? event.which : event.keyCode;
      
      // Bloqueia nÃºmeros (0-9)
      if (charCode >= 48 && charCode <= 57) {
        event.preventDefault();
        return false;
      }
      
      // Bloqueia caracteres especiais (exceto espaÃ§o e acentos)
      if (charCode >= 33 && charCode <= 47) { // !"#$%&'()*+,-./
        event.preventDefault();
        return false;
      }
      
      if (charCode >= 58 && charCode <= 64) { // :;<=>?@
        event.preventDefault();
        return false;
      }
      
      if (charCode >= 91 && charCode <= 96) { // [\]^_`
        event.preventDefault();
        return false;
      }
      
      if (charCode >= 123 && charCode <= 126) { // {|}~
        event.preventDefault();
        return false;
      }
      
      // Permite apenas letras (a-z, A-Z), espaÃ§os (32) e acentos
      return true;
    }
    
    // FunÃ§Ã£o para validar colagem e arrastar/soltar
    function validarColagem(event) {
      event.preventDefault();
      
      let texto = '';
      if (event.type === 'paste') {
        texto = (event.clipboardData || window.clipboardData).getData('text');
      } else if (event.type === 'drop') {
        texto = event.dataTransfer.getData('text');
      }
      
      // Remove nÃºmeros e caracteres especiais, mantendo apenas letras, espaÃ§os e acentos
      const textoLimpo = texto.replace(/[0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/g, '');
      
      // Aplica o texto limpo
      setTimeout(() => {
        const campo = event.target;
        campo.value = textoLimpo;
        validarCampoNome(campo);
      }, 10);
      
      return false;
    }
    
    // FunÃ§Ã£o para validar o campo nome
    function validarCampoNome(campo) {
      const nome = campo.value;
      const hint = document.getElementById('nomeHint');
      
      if (!nome) {
        hint.textContent = '';
        hint.style.color = '';
        campo.style.borderColor = '';
        return;
      }
      
      // ValidaÃ§Ã£o rigorosa
      const nomeRegex = /^[a-zA-ZÃ€-Ã¿\u00C0-\u017F\s]+$/;
      if (!nomeRegex.test(nome)) {
        hint.textContent = 'âœ— Nome deve conter apenas letras, espaÃ§os e acentos';
        hint.style.color = '#ff6b6b';
        campo.style.borderColor = '#ff6b6b';
        return;
      }
      
      if (/[0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(nome)) {
        hint.textContent = 'âœ— Nome nÃ£o pode conter nÃºmeros ou caracteres especiais';
        hint.style.color = '#ff6b6b';
        campo.style.borderColor = '#ff6b6b';
        return;
      }
      
      const palavras = nome.split(' ').filter(palavra => palavra.length > 0);
      if (palavras.length < 2) {
        hint.textContent = 'âœ— Digite o nome completo (nome e sobrenome)';
        hint.style.color = '#ff6b6b';
        campo.style.borderColor = '#ff6b6b';
        return;
      }
      
      hint.textContent = 'âœ“ Nome vÃ¡lido';
      hint.style.color = '#39d98a';
      campo.style.borderColor = '#39d98a';
    }
    
    // FunÃ§Ã£o para testar a validaÃ§Ã£o
    function testarValidacao() {
      const campo = document.getElementById('testeNome');
      validarCampoNome(campo);
    }
    
    // Adicionar validaÃ§Ã£o em tempo real
    document.getElementById('testeNome').addEventListener('input', function() {
      validarCampoNome(this);
    });
    
    console.log('=== TESTE CAMPO NOME ===');
    console.log('âœ… Bloqueia nÃºmeros e caracteres especiais');
    console.log('âœ… Aceita apenas letras, espaÃ§os e acentos');
    console.log('âœ… ValidaÃ§Ã£o em tempo real');
    console.log('âœ… Bloqueia colagem de texto invÃ¡lido');
  </script>
</body>
</html>

